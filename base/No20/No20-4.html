<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">    
    <title>IFE ECMAScript</title>
    <style>
        .palette {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        .palette li {
            width: 40px;
            height: 40px;
            border: 1px solid #000;
            cursor: pointer;
        }
    </style>
</head>
<body>            
    <div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
    <button id="fade-btn">淡出</button>
    <script>
        var fadeobj = document.getElementById("fade-obj");
        var fadebtn = document.getElementById("fade-btn");
        var i=100;
        var a=1;
        fadebtn.onclick=function(){
            timer=setInterval(fd,100);
        }
        function fd(){
            if(a==1){
                fadebtn.disabled=true;
                fadeobj.style.opacity=i/100;
                console.log(fadeobj.style.opacity);
                if(i==0){
                    clearInterval(timer);
                    fadebtn.innerHTML=('淡入');
                    fadebtn.disabled=false;
                    a=2;
                    return;
                }
                if(i>0)
                {
                    i=i-5;
                }
            }
            if(a==2){
                fadebtn.disabled=true;
                fadeobj.style.opacity=i/100;
                console.log(fadeobj.style.opacity);
                if(i==100){
                    clearInterval(timer);
                    fadebtn.innerHTML=('淡出');
                    fadebtn.disabled=false;
                    a=1;return;
                }
                if(i<100)
                {
                    i=i+5;
                }
            }
        }
    </script>
</body>
</html>